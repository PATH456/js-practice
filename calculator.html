<!DOCTYPE html>
<html>

  <title>
    Calculator
  </title>

  <head>

    <style>
      button {
        margin-bottom: 1rem;
        font-size: 20px;
      } 
      button.backspace {
        opacity: 0.65;
      }
      h1 {
        font-weight:200;
        font-size: 30px;
      }
    </style>

  </head>

  <body>
    <h1>
      Calculator
    </h1>
    <p class = 'display'></p>

    <button onclick = "updateCalculator(1);"
    >1</button>

    <button onclick = "updateCalculator(2);"
    >2</button>

    <button onclick = "updateCalculator(3);
    ">3</button>

    <button onclick = "updateCalculator(' + ');"
    >+</button>

    <br>
    <button onclick = "updateCalculator(4)"
    >4</button>

    <button onclick = "updateCalculator(5)"
    >5</button>

    <button onclick = "updateCalculator(6)"
    >6</button>

    <button onclick = "updateCalculator(' - ')"
    >-</button>

    <br>
    <button onclick = "updateCalculator(7)"
    >7</button>

    <button onclick = "updateCalculator(8)"
    >8</button>

    <button onclick = "updateCalculator(9)"
    >9</button>

    <button onclick = "updateCalculator(' * ')"
    >*</button>

    <br>
    <button onclick = "updateCalculator(0)"
    >0</button>

    <button onclick = "updateCalculator('.')"
    >.</button>

    <button onclick = "
    calculator = eval(calculator);
    localStorage.setItem('result', JSON.stringify(calculator));
    document.querySelector('.display').innerHTML = calculator
    calculator = String(calculator)"
    >=</button>

    <button onclick = "updateCalculator(' / ')"
    >/</button>

    <br>

    <button onclick = "calculator = '';
    localStorage.removeItem('result');
    document.querySelector('.display').innerHTML = calculator"
    >Clear</button>

    <button class = "backspace"; onclick = "
    backSpace();
    console.log(calculator)";
    >x</button>

    <script>
      let calculator = localStorage.getItem('result') || '';
      
      function updateCalculator(parameter1) {
        calculator += parameter1;
        document.querySelector('.display').innerHTML = calculator;
      }

      function backSpace() {
        if (calculator.endsWith(' ')) {
          calculator = calculator.slice(0, calculator.length-3);
        } else {
          calculator = calculator.slice(0, calculator.length-1);
        }
        document.querySelector('.display').innerHTML = calculator;
      }

    /* What if I get a random result like number 20, then I press on a random number instead of continuing my calculation? */
    </script>

  </body>
</html>